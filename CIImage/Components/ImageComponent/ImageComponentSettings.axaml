<ci:ComponentBase
    x:Class="CIImage.Components.ImageComponentSettings"
    x:TypeArguments="components:ImageComponentConfig"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:ci="http://classisland.tech/schemas/xaml/core"
    xmlns:controls="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
    xmlns:components="clr-namespace:CIImage.Components"
    mc:Ignorable="d">

    <!-- ReSharper disable Xaml.StyleClassNotFound -->
    <ScrollViewer
        DataContext="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=components:ImageComponentSettings}}">
        <StackPanel Classes="settings-container animated-intro" Margin="0">
            <controls:SettingsExpander IconSource="{ci:FluentIconSource &#xE9B2;}" Header="图片路径" Description="图片的绝对路径">
                <controls:SettingsExpander.Footer>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <TextBox MinWidth="180" MaxWidth="360" Margin="0 0 2 0" VerticalAlignment="Center"
                                 Text="{Binding Settings.ImagePath, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <Button Click="On_OpenFile" Padding="8,6,8,6" Content="{ci:FluentIcon &#xE88D;}" FontSize="18" />
                    </StackPanel>
                </controls:SettingsExpander.Footer>
            </controls:SettingsExpander>

            <controls:SettingsExpander IconSource="{ci:FluentIconSource &#xF031;}" Header="圆角半径" Description="图片的圆角半径">
                <controls:SettingsExpander.Footer>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <Slider Width="180" Minimum="0" Maximum="18"
                                VerticalAlignment="Center"
                                Classes="auto-tooltip"
                                Value="{Binding Settings.CornerRadius}"
                                TickFrequency="1"
                                TickPlacement="None"
                                IsSnapToTickEnabled="True" />
                    </StackPanel>
                </controls:SettingsExpander.Footer>
            </controls:SettingsExpander>
        </StackPanel>
    </ScrollViewer>
</ci:ComponentBase>